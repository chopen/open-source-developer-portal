<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Integrations | Integrations Partner | Dwolla API Documentation | Dwolla API Documentation</title><meta name=description content=" Build, discover and connect with third party integration applications published to the Dwolla Integration Directory"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.a2e8.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.cb39.png><link rel=manifest href=/images/favicons/manifest.json><link rel=mask-icon href=/images/favicons/safari-pinned-tab.5f15.svg color=#ff7404><meta name=theme-color content=#ffffff><link rel=stylesheet href=/css/main.f9fa.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500%7CRoboto:300,400"><script src=/js/head-scripts.9520.js></script><script src=https://cdn.statuspage.io/se-v2.js></script><script>(function(w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({
      'gtm.start': new Date().getTime(),
      event: 'gtm.js'
    });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != 'dataLayer' ? '&l=' + l : '';
    j.async = true;
    j.src =
      'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
    f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', 'GTM-WRT5LD6');</script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href=https://accounts.dwolla.com/sign-up>Sign Up</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/platform>Product</a> <a href=https://www.dwolla.com/plans>Plans</a> <a href="/">Developers</a> <a href="https://www.dwolla.com/updates/">Resources</a> <a href="https://www.dwolla.com/about/">Company</a> <a href=https://accounts.dwolla.com/login>Login</a> <a class="btn primary" href=https://accounts.dwolla.com/sign-up>Sign Up</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/">Guides</a> <a href="/resources/">Resources</a> <a href="https://docs.dwolla.com/">API docs</a> <a href="/integrations/" class=active>Partner Integrations</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">Tools and SDKs</a><div class="custom-select custom-select--grey js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div><div style="float: right"><a href="https://discuss.dwolla.com/" target=_blank class="no-nav js-two-col-no-toggle"><span class=mobile-hide>Community</span> <span class=icon-nav-dev-community-grey>&ensp;&ensp;&ensp;</span></a></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--grey"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Authorization</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Getting started in Sandbox</a> <a href="/guides/send-money/">Send money to your users</a> <a href="/guides/receive-money/">Receive money from your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between two users</a> <a href="/guides/me-to-me/">Transfer money within a single user</a> <a href="/guides/auth/">Authorization</a> <a href="/guides/webhooks/">Webhooks</a></nav></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div></li><li><a href=/guides/send-money/onboarding.html>Customer onboarding</a><div class=dot></div></li><li><a href=/guides/send-money/add-funding-source.html>Add funding source</a><div class=dot></div></li><li><a href=/guides/send-money/retrieve-funding-sources.html>Retrieve funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/create-transfer.html>Create a transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview: Receive money from your users</a><div class=dot></div></li><li><a href=/guides/receive-money/onboarding.html>Customer onboarding</a><div class=dot></div></li><li><a href=/guides/receive-money/add-funding-source.html>Add funding source</a><div class=dot></div></li><li><a href=/guides/receive-money/retrieve-funding-sources.html>Retrieve funding sources</a><div class=dot></div></li><li><a href=/guides/receive-money/create-transfer.html>Create a transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/obtain-access-token.html>Obtain an application access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-verified-customer.html>Create a Verified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-unverified-customer.html>Create an Unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/me-to-me>Overview: Me-to-Me</a><div class=dot></div></li><li><a href=/guides/me-to-me/onboarding.html>Customer onboarding</a><div class=dot></div></li><li><a href=/guides/me-to-me/add-funding-source.html>Add funding source</a><div class=dot></div></li><li><a href=/guides/me-to-me/retrieve-funding-sources.html>Retrieve funding sources</a><div class=dot></div></li><li><a href=/guides/me-to-me/create-transfer.html>Create a transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/auth>Overview: Authorization</a><div class=dot></div></li><li><a href=/guides/auth/client-credentials-flow.html>Client credentials flow</a><div class=dot></div></li><li><a href=/guides/auth/using-an-access-token.html>Using an access token</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/create-subscription.html>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section></nav><nav class="side-nav js-side-nav"><section><h6>Tools</h6><ul><li class=external-link><a href="https://dashboard-sandbox.dwolla.com/" target=_blank><span class=icon-sidenav-option>Sandbox Dashboard</span></a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="https://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>The API Basics</h6><ul><li><a href=/resources/account-types.html>Customer types</a><ul></ul></li><li><a href=/resources/balance-funding-source.html>Balance Funding Source</a><ul></ul></li><li><a href=/resources/bank-transfer-workflow.html>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html>Transfer failures</a></li></ul></li><li><a href=/resources/business-verified-customer.html>Business verified customer</a><ul><li><a href=/resources/business-verified-customer/create-business-verified-customers.html>Creating business verified customers</a></li><li><a href=/resources/business-verified-customer/handling-controller-and-customer-statuses.html>Handling business verified customer statuses</a></li><li><a href=/resources/business-verified-customer/adding-beneficial-owners.html>Adding beneficial owners</a></li><li><a href=/resources/business-verified-customer/handling-beneficial-owner-certification.html>Certifying beneficial ownership</a></li><li><a href=/resources/business-verified-customer/frequently-asked-questions.html>Frequently Asked Questions</a></li></ul></li><li><a href=/resources/funding-source-verification.html>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li><li><a href=/resources/personal-verified-customer.html>Personal verified customer</a><ul><li><a href=/resources/personal-verified-customer/create-personal-verified-customers.html>Creating a personal verified customer</a></li><li><a href=/resources/personal-verified-customer/handling-verification-statuses-personal.html>Handling personal verified customer statuses</a></li><li><a href=/resources/personal-verified-customer/frequently-asked-questions.html>Frequently Asked Questions</a></li></ul></li><li><a href=/resources/testing.html>Test in the Sandbox</a><ul></ul></li><li><a href=/resources/webhook-events.html>Webhook Events</a><ul></ul></li></ul><h6>Features</h6><ul><li><a href=/resources/dwolla-js.html>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html>Add a Bank Account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Add + Verify a Bank Account (IAV)</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator fee</a><ul></ul></li><li><a href=/resources/operational-notifications.html>Operational Notifications</a><ul></ul></li><li><a href=/resources/same-day-ach.html>Same Day ACH</a><ul></ul></li></ul><h6>Integrations</h6><ul><li><a href=/resources/dwolla-plaid-integration.html>Dwolla + Plaid</a><ul></ul></li><li><a href=/resources/dwolla-sift-integration.html>Dwolla + Sift</a><ul></ul></li><a href="https://www.dwolla.com/partnerships/">Partner Ecosystem</a></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docs.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docs.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docs.dwolla.com/#customers>Customers</a></li><li><a href=https://docs.dwolla.com/#documents>Documents</a></li><li><a href=https://docs.dwolla.com/#funding-sources>Funding Sources</a></li><li><a href=https://docs.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docs.dwolla.com/#events>Events</a></li><li><a href=https://docs.dwolla.com/#webhook-subscriptions>Webhook Subscriptions</a></li><li><a href=https://docs.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav><nav class="side-nav js-side-nav active"><section><h6>Integrations</h6><ul><li><a href=/integrations/authorization.html class=active>Integration Authorization</a></li><li class=external-link><a href="https://www.dwolla.com/partnerships/" target=_blank><span class=icon-sidenav-option>Partner Ecosystem</span></a></li></ul></section></nav></section><section class=cnt-two-col__content><h1 id=build-an-integration>Build an Integration</h1><h4 id=extend-the-dwolla-platform-with-a-custom-integration>Extend the Dwolla Platform with a custom integration</h4><p>A partner integration enables a Dwolla Client to authenticate with the Dwolla Platform and authorize a third party application to interact with data stored in Dwolla via the application&rsquo;s user interface. Publish your integration to Dwolla’s Integration Directory and make our clients your clients too.</p><p>Dwolla uses <a href="https://openid.net/connect/">OpenID Connect</a>, which is a layer built on top of the <a href=https://tools.ietf.org/html/rfc6749>OAuth 2.0 protocol</a>, to facilitate this authorization. Third party applications can perform actions, such as creating Customer records, viewing transaction history and more. To do so, your application will first need to request authorization. The user (Dwolla Client) is first presented with a permission dialog for the third party application, at which point the user can either approve or deny requested permissions. Once the user approves, an <code>authorization_code</code> is sent to your application, which will then be exchanged for an <code>access_token</code> and <code>refresh_token</code> pair.</p><p>The OpenID Connect flow is designed for web applications that leverage a browser-based interaction for user authentication.</p><h3 id=terminology>Terminology</h3><p>Before learning more about the authorization process, take a moment to review some of the key terms used in this guide:</p><ul><li><strong>Integrator:</strong> <em>You, the service provider/third party application creating an integration with Dwolla</em></li><li><strong>API Client:</strong> <em>Dwolla’s Clients, applications utilizing the Dwolla platform to power payments within their application</em></li><li><strong>Integration Application:</strong> <em>A third party application</em></li><li><strong>Access Token:</strong> <em>Token-based authentication to allow an application to access an API–used by Dwolla to authorize or deny requests</em></li><li><strong>Refresh Token:</strong> <em>A token used within 60 days to generate a new access<em>token and refresh</em>token pair issued by the authorization server</em></li><li><strong>Sandbox:</strong> <em>Dwolla’s testing environment</em></li><li><strong>Dashboard:</strong> <em>Interface for Dwolla Clients to view application information and activity</em></li></ul><h3 id=initial-setup-configure-application-in-sandbox>Initial Setup - Configure application in Sandbox</h3><p>While anyone can sign up with a sandbox account and start building with Dwolla’s API as an API Client, in order to be onboarded as a third party integrator, your application will need to be reviewed and approved by Dwolla.</p><p>After creating your Application in sandbox, you will need to contact <code>partnerships@dwolla.com</code> to finish setting up your integration. When you contact Dwolla, please provide the following pieces of information to begin the approval process:</p><ul><li>Subject line of: <code>Enable Sandbox Integrator</code></li><li>The email address you signed up with in sandbox</li><li>The name of your Integration Application in sandbox</li><li>The redirect URI that the authorization flow will redirect to after a Dwolla API Client grants permission to your integration. The redirect URI will be the endpoint that will handle receiving the code from Dwolla during the OpenID/OAuth flow</li><li>A description that will be shown with your integration in the Dwolla Dashboard within the marketplace (Optional, but recommended)</li><li>A sign-up URL on your application that Dwolla Clients will be redirected to when enabling your integration. It is recommended you have users either login or (sign up for) your integration on this page. After you’ve authenticated the user, you will start the OpenID/OAuth flow with Dwolla (Optional, but recommended)</li><li>An informational URL that is a page on your application where Dwolla API Clients can learn more about your integration–there is a “Learn More” link on your integration in sandbox that will link to this URL (Optional, but recommended)</li></ul><p>After receiving confirmation from our team via email, we will finish enabling your integration application in sandbox and you can begin developing and testing your integration application.</p><h2 id=authorization-workflow>Authorization Workflow</h2><p>There are three main steps that must happen between the Dwolla API Client and your integration.</p><ol><li><a href=/integrations/authorization.html#request-authorization-redirect-user-to-dwolla>Request authorization</a></li><li><a href=/integrations/authorization.html#finish-authorization-exchange-code-for-access-token>Finish authorization</a></li><li><a href=/integrations/authorization.html#refresh-authorization>Refresh authorization</a></li></ol><h2 id=request-authorization-redirect-user-to-dwolla>Request Authorization - Redirect user to Dwolla</h2><p>In order to obtain authorization to the user’s data (API Client), the user is redirected to Dwolla and presented with a permissions dialog, at which point the user can either approve or reject the requested permissions. If the user approves, the user will be sent back to your app with a temporary <code>authorization_code</code> that will be exchanged for an <code>access_token</code> and <code>refresh_token</code> pair.</p><p>To start the authorization flow, construct the initiation URL that the user will visit in order to grant permission to your application. The request authorization URL describes who the Integration Application is (<code>client_id</code>) and where the user should be redirected to after they grant or deny permissions to your application (<code>redirect_uri</code>).</p><h3 id=access-control>Access Control</h3><p>When your integration application is approved to be published to the Integration Directory, Dwolla will assign permissions to your application based on your use case, with the intent of only allowing the integration application to handle data that is applicable to the integration. These permissions ultimately define and apply access control to individual resources, information or actions available in the Dwolla API.</p><p>Permissions can be broken down into three basic categories:</p><ul><li>Read</li><li>Write</li><li>Read, Write + Transact</li></ul><p>Read, Write and Read, Write + Transact permissions will all be available by default in the sandbox environment.</p><h4 id=request-parameters>Request parameters</h4><p><strong>Note: Remember to url-encode all query string parameters</strong></p><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>client_id</td><td><em>Required</em><br>Your application key that can be retrieved from the Dwolla Sandbox Dashboard.</td></tr><tr><td>redirect_uri</td><td><em>Required</em><br>URL where the user will be redirected to, after accepting or rejecting permissions. The value of this parameter must match the value specified in your email to Dwolla to get access. Dwolla compares: protocol, subdomain, domain, tld, and file path. Additional query string parameters are ignored.</td></tr><tr><td>response_type</td><td><em>Required</em><br>Value of <code>code</code>.</td></tr><tr><td>scope</td><td><em>Required</em><br>Permissions your application is requesting. Scopes are specified via a space-delimited list (&ldquo;%20&rdquo;). In Sandbox, you can just set this list to ‘send funding managecustomers transactions accountinfofull openid’ which will give your integration full access to the client’s account. <strong>Note:</strong> Explicit request of scopes will change. Integration applications will be subject to review of allowed permissions by the Dwolla team.</td></tr><tr><td>state</td><td><em>Optional</em><br>Indicates any state which may be useful to your application upon redirect. Dwolla passes this value through the OAuth flow, so your application receives the same value it sent in the initial authorization request. Possible uses include redirecting the user to the correct resource in your site, nonces and cross-site-request-forgery (XRSF) mitigations.</td></tr></tbody></table><h6 id=example-request-url>Example Request URL</h6><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-nohide data-lang=nohide>https://accounts-sandbox.dwolla.com/auth?client_id=fKSC3bQbLexyTDSXVvTv7Df0z5ow52YM9TotbKeKrycnYnKwnX&amp;response_type=code&amp;redirect_uri=https%3A%2F%2Facd30eaf.ngrok.io%2Fcallback&amp;scope=openid%20send%20funding%20managecustomers%20transactions
</code></pre></div></div><p>After redirecting, the user will be prompted to login using their Dwolla account credentials. After logging in, the user will be prompted to grant authorization to the integration application request using the account with which you just authenticated.</p><h4 id=user-experience-testing-in-sandbox>User experience - Testing in Sandbox</h4><p>We recommend logging out of all sandbox account sessions prior to initiating the authorization experience.</p><p>Once initiated, you can mimic the steps that an API Client will go through to grant or deny authorization.</p><p>The user (API Client) will be prompted to log into the Dwolla Sandbox with their account (for sandbox testing purposes). This can be the same account that owns the Integration Application or a new sandbox account tied to a separate email address.</p><p><img src=/images/accounts_login.672e.png alt="Image of accounts login" title="Auth flow accounts login"></p><p>After successfully logging in, the API Client will be prompted to grant authorization to the integration request using the account with which you just authenticated.</p><p><img src=/images/permissions_screen.8e64.png alt="Image of permissions screen" title="Auth flow permissions screen"></p><p>Once authorization has been granted, Dwolla will redirect the API Client to your integration application’s redirect URI with a query parameter called “code.”</p><p><img src=/images/callback_auth_code.155c.png alt="Image of auth code" title="Auth flow callback"></p><p>If the Client chooses not to authorize the integration application, Dwolla will redirect the API Client to your integration application’s redirect URL with two query parameters: <code>error</code> &amp; <code>error_description</code>. These values should be used to display a meaningful error message to the user in your application.</p><h2 id=finish-authorization-exchange-code-for-access-token>Finish Authorization - Exchange Code for Access Token</h2><p>Once you’ve obtained authorization from the API Client and have received a temporary <code>authorization_code</code> you will exchange this code for an <code>access_token</code> and <code>refresh_token</code> pair.</p><p>This will require an API POST to the <code>https://accounts-sandbox.dwolla.com/token</code> endpoint with an x-www-form-urlencoded form request with the following attributes:</p><ul><li>“Authorization” header with the client key and client secret for your integration joined by a ‘:’, then base64 encoded<ul><li>Authorization: <code>Basic &lt;Base64(client_id:client_secret)&gt;</code></li></ul></li><li>Content-Type header with value: <code>application/x-www-form-urlencoded</code> Body form parameters (key: value)<ul><li>code: the code received from Dwolla via a query parameter <strong>Note: This code has an expiry time of 60 seconds. If not exchanged within 60 seconds you’ll need to prompt the user to restart the auth flow.</strong></li><li>grant_type: authorization_code</li><li>redirect_uri: the redirectUri specified for your integration application</li></ul></li></ul><h5 id=example-auth-flow>Example Auth flow</h5><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>CLIENT_ID=CLIENTID
CLIENT_SECRET=CLIENTSECRET
AUTH=$(echo -ne "$CLIENT_ID:$CLIENT_SECRET" | base64)
echo $AUTH
curl \
  --header "Content-Type: application/x-www-form-urlencoded" \
  --header "Authorization: Basic $AUTH" \
  --request POST \
  --data 'code=&lt;AUTHCODE&gt;&amp;grant_type=authorization_code&amp;redirect_uri=http%3A%2F%2Frequestb.in%2F17pkt3k1' \
  https://api-sandbox.dwolla.com/token
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kr>const</span> <span class=nx>auth</span> <span class=o>=</span> <span class=nx>dwolla</span><span class=p>.</span><span class=nx>auth</span><span class=p>({</span> <span class=na>redirect_uri</span><span class=p>:</span> <span class=s2>"https://mysite.com/dwolla/callback"</span> <span class=p>})</span>
<span class=nx>auth</span><span class=p>.</span><span class=nx>url</span> <span class=err>#</span> <span class=o>=&gt;</span> <span class=s2>"https://accounts.dwolla.com/auth?response_type=code&amp;client_id=my-client-id&amp;redirect_uri=https%3A%2F%2Fmysite.com%2Fdwolla%2Fcallback"</span>

<span class=nx>auth</span><span class=p>.</span><span class=nx>callback</span><span class=p>(</span><span class=nx>code</span><span class=err>:</span> <span class=s2>"my-code"</span><span class=p>).</span><span class=nx>then</span><span class=p>(</span><span class=nx>token</span> <span class=o>=&gt;</span> <span class=p>{</span>
  <span class=nx>token</span><span class=p>.</span><span class=nx>access_token</span> <span class=c1>// =&gt; "new-access-token"</span>
  <span class=nx>token</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>"customers"</span><span class=p>)</span>
<span class=p>})</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>auth</span> <span class=o>=</span> <span class=vg>$dwolla</span><span class=p>.</span><span class=nf>auth</span><span class=p>(</span><span class=ss>redirect_uri: </span><span class=s2>"https://mysite.com/dwolla/callback"</span><span class=p>)</span>
<span class=n>auth</span><span class=p>.</span><span class=nf>url</span> <span class=c1># =&gt; "https://accounts.dwolla.com/auth?response_type=code&amp;client_id=my-client-id&amp;redirect_uri=https%3A%2F%2Fmysite.com%2Fdwolla%2Fcallback"</span>

<span class=n>token</span> <span class=o>=</span> <span class=n>auth</span><span class=p>.</span><span class=nf>callback</span><span class=p>(</span><span class=ss>code: </span><span class=s2>"my-code"</span><span class=p>)</span>
<span class=n>token</span><span class=p>.</span><span class=nf>access_token</span> <span class=c1># =&gt; "access-token"</span>
<span class=n>token</span><span class=p>.</span><span class=nf>get</span><span class=p>(</span><span class=s2>"customers"</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>auth</span> <span class=o>=</span> <span class=n>dwolla</span><span class=o>.</span><span class=n>auth</span><span class=p>({</span> <span class=s>'redirect_uri'</span><span class=p>:</span> <span class=s>'https://mysite.com/dwolla/callback'</span> <span class=p>})</span>
<span class=n>auth</span><span class=o>.</span><span class=n>url</span> <span class=c># =&gt; "https://accounts.dwolla.com/auth?response_type=code&amp;client_id=my-client-id&amp;redirect_uri=https%3A%2F%2Fmysite.com%2Fdwolla%2Fcallback"</span>

<span class=n>token</span> <span class=o>=</span> <span class=n>auth</span><span class=o>.</span><span class=n>callback</span><span class=p>({</span> <span class=s>'code'</span><span class=p>:</span> <span class=s>'my-code'</span> <span class=p>})</span>
<span class=n>token</span><span class=o>.</span><span class=n>access_token</span> <span class=c># =&gt; 'access-token'</span>
<span class=n>token</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s>'customers'</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php>/**
 * No example for this language yet.
**/
</code></pre></div></div><p>The API POST to the token endpoint will return a JSON response that includes the fields <code>access_token</code> and <code>refresh_token</code>. The <code>access_token</code> can be used to call the API on behalf of the API Client that granted the permissions.</p><h5 id=example-response>Example response</h5><div class="code-snippet js-code-snippet language-jsonnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-jsonnohide data-lang=jsonnohide><span class=p>{</span><span class=w>
  </span><span class=nt>"access_token"</span><span class=p>:</span><span class=w> </span><span class=s2>"zNLXAACWfCOb859MBGR12x4I67tWJB7y6eUQVdQT8zsLabBk8R"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"token_type"</span><span class=p>:</span><span class=w> </span><span class=s2>"Bearer"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"refresh_token"</span><span class=p>:</span><span class=w> </span><span class=s2>"YY5Upft2c9Ci0OOWPijyHrOsEdnaoeZGAjAtLVwlpgb2LD4Zf8"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"expires_in"</span><span class=p>:</span><span class=w> </span><span class=mi>3600</span><span class=p>,</span><span class=w>
  </span><span class=nt>"id_token"</span><span class=p>:</span><span class=w> </span><span class=s2>"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI3ZTE1ZGZjMy0wNGU2LTRlYTYtOTYwNS1hMzYzMDE1NDcxOGEiLCJhdWQiOiJmS1NDM2JRYkxleHlURFNYVnZUdjdEZjB6NW93NTJZTTlUb3RiS2VLcnljblluS3duWCIsImFtciI6WyJwdyJdLCJpc3MiOiJkd29sbGEuY29tIiwiZXhwIjoxNTU5MDkyMzUwLCJpYXQiOjE1NTkwNjM1NTB9.VzJN0VFV_SKkwZM2gM1lNJUvhtjRmUXuZLgpUaVJmIdMoV3lbbK677e-_CPXviniLEtI_pebTTyJP6Uan_IG-A"</span><span class=w>
</span><span class=p>}</span><span class=w>
</span></code></pre></div></div><h5 id=token-lifetimes>Token lifetimes</h5><p>Access tokens are short lived: 1 hour. Refresh tokens are long lived: 60 days. If your <code>access_token</code> expires, the <code>refresh_token</code> should be used to get a new <code>access_token</code>. A refresh token can be used within 60 days to generate a new <code>access_token</code> and <code>refresh_token</code> pair. As long as your authorization is refreshed at least every 60 days, your application can maintain authorization indefinitely without requiring the user to re-authorize.</p><h2 id=refresh-authorization>Refresh Authorization</h2><p>A refresh token can be used to refresh authorization on the account. A new access token and refresh token pair will be returned in the response body upon a successful API POST request, to the token exchange endpoint. Refresh tokens are long-lived. This token must be stored securely to keep it from being used by potential attackers. If a refresh token is leaked, it may be used to obtain new access tokens (and access protected resources) until it is either blacklisted or it expires (which may take a long time).</p><h4 id=http-request>HTTP request</h4><p>Production: <code>POST https://api.dwolla.com/token</code> Sandbox: <code>POST https://api-sandbox.dwolla.com/token</code></p><p>Including the Content-Type: application/x-www-form-urlencoded header, the request is sent to the token endpoint with the following form-encoded parameters:</p><table><thead><tr><th>Parameter</th><th>Required</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>client_id</td><td>yes</td><td>string</td><td>Application key. Navigate to https://dashboard.dwolla.com/applications (production) or https://dashboard-sandbox.dwolla.com/applications (Sandbox) for your application key.</td></tr><tr><td>client_secret</td><td>yes</td><td>string</td><td>Application secret. Navigate to https://dashboard.dwolla.com/applications (production) or https://dashboard-sandbox.dwolla.com/applications (Sandbox) for your application key.</td></tr><tr><td>grant_type</td><td>yes</td><td>string</td><td>This must be set to refresh_token.</td></tr><tr><td>refresh_token</td><td>yes</td><td>string</td><td>A valid refresh token.</td></tr></tbody></table><p>An API POST to the token endpoint for retrieving a new access token and refresh token pair will return a JSON response that includes the fields <code>access_token</code> and <code>refresh_token</code>.</p><h5 id=example-request>Example request</h5><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>CLIENT_ID=CLIENTID
CLIENT_SECRET=CLIENTSECRET
AUTH=$(echo -ne "$CLIENT_ID:$CLIENT_SECRET" | base64)
echo $AUTH
curl \
  --header "Content-Type: application/x-www-form-urlencoded" \
  --header "Authorization: Basic $AUTH" \
  --request POST \
  --data 'client_id=&lt;CLIENT_ID&gt;&amp;client_secret=&lt;CLIENT_SECRET&gt;&amp;grant_type=refresh_token&amp;refresh_token=&lt;REFRESH_TOKEN&gt;' \
  https://api-sandbox.dwolla.com/token
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=nx>dwolla</span><span class=p>.</span><span class=nx>refreshToken</span><span class=p>({</span> <span class=na>refresh_token</span><span class=p>:</span> <span class=nx>oldToken</span><span class=p>.</span><span class=nx>refresh_token</span> <span class=p>}).</span><span class=nx>then</span><span class=p>(</span><span class=nx>newToken</span> <span class=o>=&gt;</span> <span class=p>{</span>
  <span class=nx>newToken</span><span class=p>.</span><span class=nx>access_token</span> <span class=c1>// =&gt; "new-access-token"</span>
  <span class=nx>newToken</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>"customers"</span><span class=p>)</span>
<span class=p>})</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>new_token</span> <span class=o>=</span> <span class=vg>$dwolla</span><span class=p>.</span><span class=nf>refresh_token</span><span class=p>(</span><span class=ss>refresh_token: </span><span class=n>old_token</span><span class=p>.</span><span class=nf>refresh_token</span><span class=p>)</span>
<span class=n>new_token</span><span class=p>.</span><span class=nf>access_token</span> <span class=c1># =&gt; "new-access-token"</span>
<span class=n>new_token</span><span class=p>.</span><span class=nf>get</span><span class=p>(</span><span class=s2>"customers"</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>new_token</span> <span class=o>=</span> <span class=n>dwolla</span><span class=o>.</span><span class=n>refresh_token</span><span class=p>({</span> <span class=n>refresh_token</span><span class=p>:</span> <span class=n>old_token</span><span class=o>.</span><span class=n>refresh_token</span> <span class=p>})</span>
<span class=n>new_token</span><span class=o>.</span><span class=n>access_token</span> <span class=c># =&gt; 'new-access-token'</span>
<span class=n>new_token</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s>'customers'</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php>/*
 * No example for this language yet.
*/
</code></pre></div></div><h5 id=example-response>Example response</h5><div class="code-snippet js-code-snippet language-jsonnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-jsonnohide data-lang=jsonnohide><span class=p>{</span><span class=w>
  </span><span class=nt>"access_token"</span><span class=p>:</span><span class=w> </span><span class=s2>"uBa6RPl9Btb2M41ysgRmGnGAxpBZe9vqqHUjedQRFi6hTQ9b9C"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"token_type"</span><span class=p>:</span><span class=w> </span><span class=s2>"Bearer"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"refresh_token"</span><span class=p>:</span><span class=w> </span><span class=s2>"YY5Upft2c9Ci0OOWPijyHrOsEdnaoeZGAjAtLVwlpgb2LD4Zf8"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"expires_in"</span><span class=p>:</span><span class=w> </span><span class=mi>3600</span><span class=p>,</span><span class=w>
  </span><span class=nt>"id_token"</span><span class=p>:</span><span class=w> </span><span class=s2>"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI3ZTE1ZGZjMy0wNGU2LTRlYTYtOTYwNS1hMzYzMDE1NDcxOGEiLCJhdWQiOiJmS1NDM2JRYkxleHlURFNYVnZUdjdEZjB6NW93NTJZTTlUb3RiS2VLcnljblluS3duWCIsImFtciI6WyJwdyJdLCJpc3MiOiJkd29sbGEuY29tIiwiZXhwIjoxNTU5MDkyMzUwLCJpYXQiOjE1NTkwNjM1NTB9.VzJN0VFV_SKkwZM2gM1lNJUvhtjRmUXuZLgpUaVJmIdMoV3lbbK677e-_CPXviniLEtI_pebTTyJP6Uan_IG-A"</span><span class=w>
</span><span class=p>}</span><span class=w>
</span></code></pre></div></div><hr><!-- there is also a icon of icon-status-down --><section class=status><h5>Status</h5><a href="https://status.dwolla.com/"><span class=dwolla-sp-status><span class=icon-status-operational></span> Production: Operational</span></a></section><hr><footer><div class=page-wrap><nav><h6>Product</h6><a href=https://www.dwolla.com/platform>Platform</a> <a href=https://www.dwolla.com/plans>Plans</a> <a href=https://www.dwolla.com/security>Security</a> <a href=https://www.dwolla.com/integrations>Integrations</a></nav><nav><h6>Resources</h6><a href=https://www.dwolla.com/updates>Blog</a> <a href=https://www.dwolla.com/case-studies>Case Studies</a> <a href=https://developers.dwolla.com>Developers</a> <a href="https://help.dwolla.com/">Help Center</a></nav><nav><h6>Company</h6><a href=https://www.dwolla.com/about>About Us</a> <a href=https://www.dwolla.com/careers>Careers</a> <a href=https://www.dwolla.com/press>Press</a> <a href="https://www.dwolla.com/contact/">Contact Us</a></nav><nav><h6>Legal</h6><a href="https://www.dwolla.com/legal/tos/">Terms of Service</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy Policy</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and all funds associated with your account in our network are held in one or more pooled accounts at Veridian Credit Union. These funds may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union.</p></div></section><section class=copyright><div class=page-wrap><div><span>&copy; 2020 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=https://cdn.dwolla.com/cookie-consent/dwolla-consent.js></script><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.3/iframeResizer.min.js></script><script type=text/javascript>// Create browser compatible event handler.
  var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
  var eventer = window[eventMethod];
  var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";
  // Listen for a message from the iframe.
  eventer(messageEvent, function(e) {
    if (isNaN(e.data)) return;

    // replace #sizetracker with what ever what ever iframe id you need
    document.getElementById('sizetracker').style.height = e.data + 'px';

  }, false);</script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.5c79.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WRT5LD6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript></body></html>