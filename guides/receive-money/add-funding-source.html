<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Adding a funding source for a Customer with the Dwolla API | Dwolla API Documentation</title><meta name=description content="This guide covers the key points of collecting money from your customers by utilizing the Dwolla API."><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.c861.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.d802.png><link rel=manifest href=/images/favicons/manifest.json><link rel=mask-icon href=/images/favicons/safari-pinned-tab.5f15.svg color=#ff7404><meta name=theme-color content=#ffffff><link rel=stylesheet href=/css/main.f9fa.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500%7CRoboto:300,400"><script src=/js/head-scripts.9520.js></script><script src=https://cdn.statuspage.io/se-v2.js></script><script>(function(w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({
      'gtm.start': new Date().getTime(),
      event: 'gtm.js'
    });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != 'dataLayer' ? '&l=' + l : '';
    j.async = true;
    j.src =
      'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
    f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', 'GTM-WRT5LD6');</script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href=https://accounts.dwolla.com/sign-up>Sign Up</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/platform>Product</a> <a href=https://www.dwolla.com/plans>Plans</a> <a href="/">Developers</a> <a href="https://www.dwolla.com/updates/">Resources</a> <a href="https://www.dwolla.com/about/">Company</a> <a href=https://accounts.dwolla.com/login>Login</a> <a class="btn primary" href=https://accounts.dwolla.com/sign-up>Sign Up</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/" class=active>Guides</a> <a href="/resources/">Resources</a> <a href="https://docs.dwolla.com/">API docs</a> <a href="/integrations/">Partner Integrations</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">Tools and SDKs</a><div class="custom-select custom-select--grey js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div><div style="float: right"><a href="https://discuss.dwolla.com/" target=_blank class="no-nav js-two-col-no-toggle"><span class=mobile-hide>Community</span> <span class=icon-nav-dev-community-grey>&ensp;&ensp;&ensp;</span></a></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--grey"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav active"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Receive money from your users</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Getting started in Sandbox</a> <a href="/guides/send-money/">Send money to your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between two users</a> <a href="/guides/me-to-me/">Transfer money within a single user</a> <a href="/guides/auth/">Authorization</a> <a href="/guides/webhooks/">Webhooks</a></nav></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div></li><li><a href=/guides/send-money/onboarding.html>Customer onboarding</a><div class=dot></div></li><li><a href=/guides/send-money/add-funding-source.html class=active>Add funding source</a><div class=dot></div></li><li><a href=/guides/send-money/retrieve-funding-sources.html>Retrieve funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/create-transfer.html>Create a transfer</a><div class=dot></div></li></ol></section><section class=steps-nav><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview: Receive money from your users</a><div class=dot></div></li><li><a href=/guides/receive-money/onboarding.html>Customer onboarding</a><div class=dot></div></li><li><a href=/guides/receive-money/add-funding-source.html class=active>Add funding source</a><div class=dot></div></li><li><a href=/guides/receive-money/retrieve-funding-sources.html>Retrieve funding sources</a><div class=dot></div></li><li><a href=/guides/receive-money/create-transfer.html>Create a transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/obtain-access-token.html>Obtain an application access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-verified-customer.html class=active>Create a Verified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-unverified-customer.html>Create an Unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/me-to-me>Overview: Me-to-Me</a><div class=dot></div></li><li><a href=/guides/me-to-me/onboarding.html>Customer onboarding</a><div class=dot></div></li><li><a href=/guides/me-to-me/add-funding-source.html class=active>Add funding source</a><div class=dot></div></li><li><a href=/guides/me-to-me/retrieve-funding-sources.html>Retrieve funding sources</a><div class=dot></div></li><li><a href=/guides/me-to-me/create-transfer.html>Create a transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/auth>Overview: Authorization</a><div class=dot></div></li><li><a href=/guides/auth/client-credentials-flow.html class=active>Client credentials flow</a><div class=dot></div></li><li><a href=/guides/auth/using-an-access-token.html>Using an access token</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/create-subscription.html class=active>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section></nav><nav class="side-nav js-side-nav"><section><h6>Tools</h6><ul><li class=external-link><a href="https://dashboard-sandbox.dwolla.com/" target=_blank><span class=icon-sidenav-option>Sandbox Dashboard</span></a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="https://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>The API Basics</h6><ul><li><a href=/resources/account-types.html>Customer types</a><ul></ul></li><li><a href=/resources/balance-funding-source.html>Balance Funding Source</a><ul></ul></li><li><a href=/resources/bank-transfer-workflow.html>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html>Transfer failures</a></li></ul></li><li><a href=/resources/business-verified-customer.html>Business verified customer</a><ul><li><a href=/resources/business-verified-customer/create-business-verified-customers.html>Creating business verified customers</a></li><li><a href=/resources/business-verified-customer/handling-controller-and-customer-statuses.html>Handling business verified customer statuses</a></li><li><a href=/resources/business-verified-customer/adding-beneficial-owners.html>Adding beneficial owners</a></li><li><a href=/resources/business-verified-customer/handling-beneficial-owner-certification.html>Certifying beneficial ownership</a></li><li><a href=/resources/business-verified-customer/frequently-asked-questions.html>Frequently Asked Questions</a></li></ul></li><li><a href=/resources/funding-source-verification.html>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li><li><a href=/resources/personal-verified-customer.html>Personal verified customer</a><ul><li><a href=/resources/personal-verified-customer/create-personal-verified-customers.html>Creating a personal verified customer</a></li><li><a href=/resources/personal-verified-customer/handling-verification-statuses-personal.html>Handling personal verified customer statuses</a></li><li><a href=/resources/personal-verified-customer/frequently-asked-questions.html>Frequently Asked Questions</a></li></ul></li><li><a href=/resources/testing.html>Test in the Sandbox</a><ul></ul></li><li><a href=/resources/webhook-events.html>Webhook Events</a><ul></ul></li></ul><h6>Features</h6><ul><li><a href=/resources/dwolla-js.html>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html>Add a Bank Account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Add + Verify a Bank Account (IAV)</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator fee</a><ul></ul></li><li><a href=/resources/operational-notifications.html>Operational Notifications</a><ul></ul></li><li><a href=/resources/same-day-ach.html>Same Day ACH</a><ul></ul></li></ul><h6>Integrations</h6><ul><li><a href=/resources/dwolla-plaid-integration.html>Dwolla + Plaid</a><ul></ul></li><li><a href=/resources/dwolla-sift-integration.html>Dwolla + Sift</a><ul></ul></li><a href="https://www.dwolla.com/partnerships/">Partner Ecosystem</a></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docs.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docs.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docs.dwolla.com/#customers>Customers</a></li><li><a href=https://docs.dwolla.com/#documents>Documents</a></li><li><a href=https://docs.dwolla.com/#funding-sources>Funding Sources</a></li><li><a href=https://docs.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docs.dwolla.com/#events>Events</a></li><li><a href=https://docs.dwolla.com/#webhook-subscriptions>Webhook Subscriptions</a></li><li><a href=https://docs.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav><nav class="side-nav js-side-nav"><section><h6>Integrations</h6><ul><li><a href=/integrations/authorization.html>Integration Authorization</a></li><li class=external-link><a href="https://www.dwolla.com/partnerships/" target=_blank><span class=icon-sidenav-option>Partner Ecosystem</span></a></li></ul></section></nav></section><section class=cnt-two-col__content><h1 id=step-2-adding-a-funding-source>Step 2: Adding a Funding Source</h1><p>Within Dwolla, the sending party must always have a verified funding source. Since your Customer is the one sending funds, they will need to both add and verify their bank funding source before being eligible to send funds.</p><p>The destination party, or the party receiving funds, does not need to have a verified funding source to receive these funds.</p><h2 id=bank-addition-and-verification-methods>Bank Addition and Verification methods</h2><p>There are three ways of adding a bank to a Customer with the Dwolla API. A simplified table below outlines the similarities and differences of each method.</p><table><thead><tr><th>Bank Addition Method</th><th>Will the bank be verified?</th><th>Required Information</th></tr></thead><tbody><tr><td>API - Account // Routing Number</td><td>Optional - With Microdeposits</td><td>Bank Account and Routing Number</td></tr><tr><td>Dwolla.js - Instant Account Verification</td><td>Yes</td><td>Online Bank Credentials</td></tr><tr><td>Third party - Plaid</td><td>Yes</td><td>Online Bank Credentials</td></tr></tbody></table><p>For an in-depth look at these methods and the features and benefits of each, take a look at our <a href=https://developers.dwolla.com/resources/funding-source-verification.html>developer resource article.</a></p><p>In this guide, we’ll be utilizing Dwolla’s Instant Account Verification (IAV) method via dwolla.js for adding and verifying our user’s bank account. Micro-deposit verification can take 1-2 business days to complete, so if speed is a primary factor in your user experience, then you may want to feature IAV as your preferred bank verification method.</p><h2 id=step-2a-adding-a-bank-to-the-unverified-customer>Step 2A: Adding a bank to the Unverified Customer</h2><p>In this step, we will be attaching a bank account to the Customer, which will be accomplished by using Instant Account Verification (IAV). This method will give the Customer the ability to add and verify their bank account in a matter of seconds through authentication of their online banking credentials.</p><p>Once the Customer reaches the page in your application to add a bank account, you’ll send an API request to Dwolla’s server to <a href=https://docs.dwolla.com/#create-an-iav-token-for-dwolla-js>generate an IAV token</a>.</p><h3 id=generate-a-single-use-iav-token-for-your-customer-view-schema-in-raw>Generate a single-use IAV token for your Customer (view schema in ‘raw’)</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>POST https://api-sandbox.dwolla.com/customers/99bfb139-eadd-4cdf-b346-7504f0c16c60/iav-token
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

HTTP/1.1 200 OK

{
 "_links": {
   "self": {
     "href": "https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733/iav-token"
   }
 },
 "token": "4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$customersApi</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DwollaSwagger\CustomersApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$fsToken</span> <span class=o>=</span> <span class=nv>$customersApi</span><span class=o>-&gt;</span><span class=na>getCustomerIavToken</span><span class=p>(</span><span class=s2>"https://api-sandbox.dwolla.com/customers/247B1BD8-F5A0-4B71-A898-F62F67B8AE1C"</span><span class=p>);</span>
<span class=nv>$fsToken</span><span class=o>-&gt;</span><span class=na>token</span><span class=p>;</span> <span class=c1># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"
</span><span class=cp>?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>customer_url</span> <span class=o>=</span> <span class=s1>'https://api-sandbox.dwolla.com/customers/247B1BD8-F5A0-4B71-A898-F62F67B8AE1C'</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>app_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"</span><span class=si>#{</span><span class=n>customer_url</span><span class=si>}</span><span class=s2>/iav-token"</span>
<span class=n>customer</span><span class=p>.</span><span class=nf>token</span> <span class=c1># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>customer_url</span> <span class=o>=</span> <span class=s>'https://api.dwolla.com/customers/247B1BD8-F5A0-4B71-A898-F62F67B8AE1C'</span>

<span class=n>app_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'</span><span class=si>%</span><span class=s>s/iav-token'</span> <span class=o>%</span> <span class=n>customer_url</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=c1>// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class=kd>var</span> <span class=nx>customerUrl</span> <span class=o>=</span> <span class=s1>'https://api-sandbox.dwolla.com/customers/247B1BD8-F5A0-4B71-A898-F62F67B8AE1C'</span><span class=p>;</span>

<span class=nx>appToken</span>
  <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=err>`</span><span class=nx>$</span><span class=p>{</span><span class=nx>customerUrl</span><span class=p>}</span><span class=sr>/iav-token`</span><span class=err>)
</span>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>res</span> <span class=o>=&gt;</span> <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>token</span><span class=p>);</span> <span class=c1>// =&gt; 'lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL'</span>
</code></pre></div></div><p>Then, you’ll pass this single-use IAV token to the client-side of your application where it will be used in the JavaScript function dwolla.iav.start(). This token will be used to authenticate the request asking Dwolla to render the IAV flow. Before calling this function, you’ll want to include the dwolla.js library in the HEAD of your page.</p><div class="code-snippet js-code-snippet language-htmlnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-htmlnohide data-lang=htmlnohide><span class=nt>&lt;head&gt;</span>
  <span class=nt>&lt;script </span><span class=na>src=</span><span class=s>"https://cdn.dwolla.com/1/dwolla.js"</span><span class=nt>&gt;&lt;/script&gt;</span>
<span class=nt>&lt;/head&gt;</span>
</code></pre></div></div><p>Next, you’ll add in a container to the body of your page where you want to render the IAV flow.</p><div class="code-snippet js-code-snippet language-htmlnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-htmlnohide data-lang=htmlnohide><span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>"mainContainer"</span><span class=nt>&gt;</span>
  <span class=nt>&lt;input</span> <span class=na>type=</span><span class=s>"button"</span> <span class=na>id=</span><span class=s>"start"</span> <span class=na>value=</span><span class=s>"Add Bank"</span><span class=nt>&gt;</span>
<span class=nt>&lt;/div&gt;</span>  

<span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>"iavContainer"</span><span class=nt>&gt;&lt;/div&gt;</span>
</code></pre></div></div><p>Now that you have dwolla.js initialized on the page and the container created where you’ll render the IAV flow, you’ll create a JavaScript function that responds when clicking the “Add bank” button on your page. Once your Customer clicks “Add Bank”, your application will call dwolla.iav.start() passing in the following arguments: the iavContainer element where IAV will render, a string value of your single-use IAV token, and a callback function that will handle any error or response.</p><div class="code-snippet js-code-snippet language-javascriptnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-javascriptnohide data-lang=javascriptnohide><span class=o>&lt;</span><span class=nx>script</span> <span class=nx>type</span><span class=o>=</span><span class=s2>"text/javascript"</span><span class=o>&gt;</span>
<span class=nx>$</span><span class=p>(</span><span class=s1>'#start'</span><span class=p>).</span><span class=nx>click</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>iavToken</span> <span class=o>=</span> <span class=s1>'4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY'</span><span class=p>;</span>
  <span class=nx>dwolla</span><span class=p>.</span><span class=nx>configure</span><span class=p>(</span><span class=s1>'sandbox'</span><span class=p>);</span>
  <span class=nx>dwolla</span><span class=p>.</span><span class=nx>iav</span><span class=p>.</span><span class=nx>start</span><span class=p>(</span><span class=nx>iavToken</span><span class=p>,</span> <span class=p>{</span>
          <span class=na>container</span><span class=p>:</span> <span class=s1>'iavContainer'</span><span class=p>,</span>
          <span class=na>stylesheets</span><span class=p>:</span> <span class=p>[</span>
            <span class=s1>'https://fonts.googleapis.com/css?family=Lato&amp;subset=latin,latin-ext'</span>
          <span class=p>],</span>
          <span class=na>microDeposits</span><span class=p>:</span> <span class=s1>'true'</span><span class=p>,</span>
          <span class=na>fallbackToMicroDeposits</span><span class=p>:</span> <span class=p>(</span><span class=nx>fallbackToMicroDeposits</span><span class=p>.</span><span class=nx>value</span> <span class=o>===</span> <span class=s1>'true'</span><span class=p>)</span>
        <span class=p>},</span> <span class=kd>function</span><span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'Error: '</span> <span class=o>+</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=o>+</span> <span class=s1>' -- Response: '</span> <span class=o>+</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=nx>res</span><span class=p>));</span>
  <span class=p>});</span>
<span class=p>});</span>
<span class=o>&lt;</span><span class=sr>/script</span><span class=err>&gt;
</span>
</code></pre></div></div><p>The Customer will complete the IAV flow by authenticating with their online banking credentials. You’ll know their bank account was successfully added and verified if you receive a JSON response in your callback that includes a link to the newly created funding source.</p><p><img src=/images/iav_checking.a316.png width=75% height=75%></p><p>You’ll know their bank account was successfully added and verified if you receive a JSON response in your callback that includes a link to the newly created funding source.</p><h3 id=example-success-callback>Example success callback</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-nohide data-lang=nohide><span class=p>{</span><span class=nt>"_links"</span><span class=p>:{</span><span class=nt>"funding-source"</span><span class=p>:{</span><span class=nt>"href"</span><span class=p>:</span><span class=s2>"https://api-sandbox.dwolla.com/funding-sources/80275e83-1f9d-4bf7-8816-2ddcd5ffc197"</span><span class=p>}}}</span><span class=w>
</span></code></pre></div></div><h2 id=step-2b-handle-webhooks>Step 2B: Handle Webhooks</h2><p>If you have an active webhook subscription, you should receive both the <code>customer_funding_source_created</code> and <code>customer_funding_source_verified</code> webhook immediately following the completion of the IAV flow.</p><nav class=pager-nav><a href=onboarding.html>Back: Customer Onboarding</a> <a href=retrieve-funding-sources.html>Next: Retrieve Funding Sources</a></nav><hr><!-- there is also a icon of icon-status-down --><section class=status><h5>Status</h5><a href="https://status.dwolla.com/"><span class=dwolla-sp-status><span class=icon-status-operational></span> Production: Operational</span></a></section><hr><footer><div class=page-wrap><nav><h6>Product</h6><a href=https://www.dwolla.com/platform>Platform</a> <a href=https://www.dwolla.com/plans>Plans</a> <a href=https://www.dwolla.com/security>Security</a> <a href=https://www.dwolla.com/integrations>Integrations</a></nav><nav><h6>Resources</h6><a href=https://www.dwolla.com/updates>Blog</a> <a href=https://www.dwolla.com/case-studies>Case Studies</a> <a href=https://developers.dwolla.com>Developers</a> <a href="https://help.dwolla.com/">Help Center</a></nav><nav><h6>Company</h6><a href=https://www.dwolla.com/about>About Us</a> <a href=https://www.dwolla.com/careers>Careers</a> <a href=https://www.dwolla.com/press>Press</a> <a href="https://www.dwolla.com/contact/">Contact Us</a></nav><nav><h6>Legal</h6><a href="https://www.dwolla.com/legal/tos/">Terms of Service</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy Policy</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and all funds associated with your account in our network are held in one or more pooled accounts at Veridian Credit Union. These funds may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union.</p></div></section><section class=copyright><div class=page-wrap><div><span>&copy; 2020 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=https://cdn.dwolla.com/cookie-consent/dwolla-consent.js></script><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.3/iframeResizer.min.js></script><script type=text/javascript>// Create browser compatible event handler.
  var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
  var eventer = window[eventMethod];
  var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";
  // Listen for a message from the iframe.
  eventer(messageEvent, function(e) {
    if (isNaN(e.data)) return;

    // replace #sizetracker with what ever what ever iframe id you need
    document.getElementById('sizetracker').style.height = e.data + 'px';

  }, false);</script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.5c79.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WRT5LD6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript></body></html>